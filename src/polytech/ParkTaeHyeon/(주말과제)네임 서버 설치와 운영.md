# 주말과제_네임 서버 설치와 운영

# 네임 서버

- DNS 서버라고도 하며 FTP클라이언트 또는 웹 브라우저를 사용할 때 우리는 URL을 사용한다. [nate.com](http://nate.com)와 같이 말이다.
- 이를 컴퓨터의 IP 주소로 변환시키는데 이것을 하는게 네임 서버이다.
- 또한 이 과정을 해석이라고 한다.
- 각 URL과 IP를 기록해둔 파일을 hosts이라고 한다. 전화번호부와 같은 역할을 하는 것이다.

![Untitled](%E1%84%8C%E1%85%AE%E1%84%86%E1%85%A1%E1%86%AF%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A6_%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%BC%20891d383b826f4382985f6b550807ba26/Untitled.png)

- 하지만 이런 경우 새로 생긴 전화번호나 변경 번호를 실시간으로 확인할 수 없다. 또한 전 세계의 모든 전화번호부에 넣을 수는 없다.
- 따라서 해석을 전문으로 해주는 서버 컴퓨터가 필요해졌고, 이를 네임 서버 또는 DNS 서버라고 부르게 되었다.
- 네임 서버는 URL 주소는 IP 주소로 변환해주는 편리한 서비스를 제공하는 것일 뿐, 직접적으로 컴퓨터에 연결된 네트워크에 영향을 미치지 않는다.

# IP 주소를 얻는 내부 흐름도

![Untitled](%E1%84%8C%E1%85%AE%E1%84%86%E1%85%A1%E1%86%AF%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A6_%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%BC%20891d383b826f4382985f6b550807ba26/Untitled%201.png)

1. 사용자가 웹 브라우저 등에서 URL을 입력한다.
2. /etc/host.conf 파일을 조회해 우선순위가 무엇인지를 확인한다.
3. 우선순위 /etc/hosts 파일에 URL에 해당하는 IP 주소가 있다면 거기로 연결함
4. IP 주소가 없다면 /etc/resolv.conf 파일을 확인하여 nameserver 네임서버 IP 부분이 있는지 확인한다.
5. 없다면 실패하여 알 수 없다 
6. 있다면 질의한다.
7. 네임 서버가 안다면 IP 주소를 알려준다.
8. 응답하지 않으면 알 수 없다.

# 도메인 이름 체계

- 네트워크에 연결된 컴퓨터를 구분하는 유일한 방법은 IP 주소다.
- 이걸 외우는 것은 무리가 있기 때문에 이름을 매긴다.
- 또한 이걸 관리하는 전용 컴퓨터가 있다면 언제든지 여기서 확인할 수 있을 것이다.
    - 교촌 치킨 번호를 모르더라도 114 번호만 알면 되는 것과 비슷한 원리다.
- 그러다가 인터넷을 사용하는 컴퓨터가 기하급수적으로 늘어나게 되었고 도저히 관리할 수 없게 되었다. 그래서 태어난 것이 아래와 같은 트리 구조이다.
- 이를 활용하면 하위 네임 서버만 관리하면 된다.

![Untitled](%E1%84%8C%E1%85%AE%E1%84%86%E1%85%A1%E1%86%AF%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A6_%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%BC%20891d383b826f4382985f6b550807ba26/Untitled%202.png)

- www.nate.com는 도메인 이름이 아닌 컴퓨터이고 nate.com가 도메인 이름이다.

# 마스터 네임 서버

- 컴퓨터 이름을 관리하고 컴퓨터 IP 주소를 알기 원할 때 해당 컴퓨터의 IP 주소를 알려주는 네임서버이다.

# 라운드 로빈 방식의 네임 서버

- 웹 서버를 1대가 아닌 여러 대의 웹 서버를 운영해서, 웹 클라이언트가 서비스를 요청할 경우 교대로 서비스를 실행할 것
- 웹 서버의 부하를 공평하게 나눌 수 있기 때문에 이러한 방식을 로빈 방식이라고 부른다.