# DNS 구조와 명명 규칙

# DNS 구조와 명명 규칙

도메인은 계층 구조여서 수 많은 인터넷 주소 중 원하는 주소를 효율적으로 찾아갈 수 있다.

역트리 구조로 최상위 루트(ROOT)부터 Top-LEVEL 도메인, Second-LEVEL 도메인, Third-LEVEL 도메인과 같이 하위 레벨로 원하는 주소를 단계적으로 찾아간다.

우리가 도메인 주소를 사용할 때는 각 계층의 경계를 “.”로 표시하고 뒤에서 앞으로 해석한다.

Third.second.top.과 같은 형태로 표현하고 맨 뒤의 루트는 생략된다.

www.naver.com의 경우 맨 뒤에 생략된 루트(.)를 시작으로 Top-LEVEL인 com, Second-LEVEL인 naver, Third-Level인 www와 같이 뒤에서 앞으로 해석된다.

![Untitled](DNS%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%E1%84%8B%E1%85%AA%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%86%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%B2%E1%84%8E%E1%85%B5%E1%86%A8%20aef1e12293ae45008d1b1be437438832/Untitled.png)

도메인 계층은 최대 128계층까지 구성할 수 있다.

계층별 길이는 최대 63바이트까지 사용할 수 있고 도메인 계층을 구분하는 구분자 “.”를 포함한 전체 도메인 네임의 길이는 최대 255바이트까지 사요할 수 있다.

문자는 알파벳, 숫자, “-”만 사용할 수 있고 대소문자 구분이 없다.

---

## 루트 도메인

루트 도메인은 앞에서 언급한 바와 같이 도메인을 구성하는 최상위 영역이다.

DNS 서버는 사용자가 쿼리한 도메인에 대한 값을 직접 갖고 있거나 캐시에 저장된 정보를 이용해 응답한다.

만약 DNS 서버에 해당 도메인의 정보가 없으면 루트 도메인을 관리하는 루트 DNS에 쿼리하게 된다.

루트 DNS는 전 세계에 13개가 있고, DNS 서버를 설치하면 루트 DNS의 IP 주소를 기록한 힌트(Hint) 파일을 가지고 있어 루트 DNS 관련 정보를 별도로 설정할 필요가 없다.

![Untitled](DNS%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%E1%84%8B%E1%85%AA%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%86%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%B2%E1%84%8E%E1%85%B5%E1%86%A8%20aef1e12293ae45008d1b1be437438832/Untitled%201.png)

윈도우 서버에 DNS 서비스를 활성화하면 DNS 서비스에 기본으로 저장되어 있는 루트 서버 리스트 정보를 확인할 수 있다.

![Untitled](DNS%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%E1%84%8B%E1%85%AA%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%86%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%B2%E1%84%8E%E1%85%B5%E1%86%A8%20aef1e12293ae45008d1b1be437438832/Untitled%202.png)

<aside>
💡 Q. www.naver.com이라는 도메인을 인터넷 주소창에 입력했을 때 질의하는 과정은?

A. **[www.naver.com과](http://www.naver.xn--com-rg8l/)** 같은 도메인 이름을 인터넷 주소창에 입력하면, 우선 해당 도메인 이름의 IP 주소를 찾기 위해 로컬 컴퓨터의 DNS 캐시, 로컬 DNS 서버 또는 인터넷 서비스 제공업체(ISP)의 DNS 서버를 통해 DNS 질의가 시작된다.

만약 로컬 DNS 캐시 또는 로컬 DNS 서버에서 해당 도메인 이름의 IP 주소를 찾지 못하면, 다시 더 높은 레벨의 DNS 서버로 DNS 질의가 전달된다. 이때 루트 DNS 서버는 도메인 이름의 최상위 도메인(TLD) 정보를 제공하는 역할을 한다.

루트 DNS 서버는 전 세계에 13개가 있으며, 이들은 모두 동일한 루트 DNS 데이터를 가지고 있다. 로컬 DNS 서버는 이 중 가장 가까운 루트 DNS 서버에 질의를 보내고, 해당 루트 DNS 서버는 다시 하위 레벨의 DNS 서버 정보를 알려준다. 이렇게 계층적인 방식으로 DNS 질의가 이루어지며, 마지막으로 **[www.naver.com의](http://www.naver.xn--com-yh0o/)** IP 주소를 알아내는 과정을 거친다.

</aside>