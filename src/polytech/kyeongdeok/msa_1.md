---
layout: home
---

# MSA(Micro Service Architecture)란?

## MSA(MircroService Architecture)

마이크로서비스(microservice)는 애플리케이션을 **느슨하게 결합된 서비스의 모임으로 구조화하는   *`서비스 지향 아키텍처(SOA)` 스타일의 일종인 소프트웨어 개발 기법**이다.

**서비스 지향 아키텍처(Service Oriented Architecture(SOA))**

- 애플리케이션 구성요소가 통신프로토콜을 통해 다른 구성요소에 서비스를 제공하는 아키텍처 접근 방식
- 대규모 컴퓨터 시스템을 구축할 때의 개념으로 업무상에 일 처리에 해당하는 소프트웨어 기능을 서비스로 판단하여 그 서비스를 네트워크상에 연동하여 시스템 전체를 구축해 나가는 방법론
- 여기서 '서비스'는 기능의 독립적 단위

## **MSA 등장배경**

![https://blog.kakaocdn.net/dn/cRarTB/btrKHYqqvCd/arnZCW4fm8k45WiPYDTNy0/img.png](https://blog.kakaocdn.net/dn/cRarTB/btrKHYqqvCd/arnZCW4fm8k45WiPYDTNy0/img.png)

기존의 `Monolithic Architecture`는 소프트웨어의 **모든 구성요소가 한 프로젝트에 통합되어 있는 서비스**입니다. 현재 많은 회사들의 소프트웨어가 레거시 또는 필요로 인해서 Monolithic 형태로 구현되어 있습니다. 소규모의 프로젝트에서는 Monolithic 형태는 간단하며, 유지보수가 편하기 때문에 선호됩니다.그러나 **일정 규모 이상을 넘어가면 Monolithic은 많은 한계점에 봉착한**다.

**기존 Monolithic Architecture의 한계**

- **부분 장애가 전체 서비스의 장애로 확대**될 수 있음
- **전체 시스템 구조 파악이 어려움**
- 서비스 변경이 어렵고, **수정 시 영향도(사이드 이펙트 등) 파악이 힘듦**
- **빌드 시간 및 테스트, 배포 시간의 급증**
- **서비스의 특정 부분만 스케일아웃(sacle-out) 하기 어려움**

이러한 기존 모놀리식 구조 서비스의 한계점에서 MSA가 등장하게 됨.

## **MSA 특징**

**MSA는 API를 통해서만 상호작용할 수 있다.** 즉, 마이크로 서비스는 **서비스의 end-point(접근점)을 API 형태로 외부에 노출하고, 실질적인 세부 사항은 모두 추상화**한다. 내부의 구현 로직, 아키텍처와 프로그래밍 언어, 데이터베이스, 품질 유지 체계와 같은 기술적인 사항들은 서비스 API에 의해 철저하게 가려진다.

![https://blog.kakaocdn.net/dn/yFnhk/btrKQQRP2R4/8zD1DCKNXMICtMsQKQCdsK/img.png](https://blog.kakaocdn.net/dn/yFnhk/btrKQQRP2R4/8zD1DCKNXMICtMsQKQCdsK/img.png)

제대로 설계된 **마이크로서비스는 하나의 비즈니스 범위에 맞춰 만들어지므로 하나의 기능만 수행**한다. 즉, 어플리케이션 출시처럼 하나의 목표를 향해 일하지만 자기가 개발하는 서비스만 책임진다. 그리고 여러 어플리케이션에서 재사용할 수 있어야 한다.어플리케이션은 항상 **기술 중립적 프로토콜을 사용해 통신하므로 서비스 구현 기술과는 무관**하다.

따라서 마이크로서비스 기반의 **어플리케이션을 다양한 언어와 기술로 구축할 수 있다는 것을 의미한다.** 마이크로서비스는 SOA에서 사용되는 집중화된 관리 체계를 사용하지 않는다. 마이크로서비스 구현체의 공통적인 특징 중 하나는 ESB(Enterprise Service Bus)와 같은 무거운 제품에 의존하지 않는다는 점이다. **REST 등 가벼운 통신 아키텍처, 또는 Kafka 등을 이용한 message stream을 주로 사용한다.**

## **MSA 장점**

1. **배포**

- 서비스별 개별 배포가 가능합니다. (배포시 전체 서비스의 중단이 없습니다.)
- 특정 서비스의 요구사항만을 반영하여, **빠르게 배포 가능**합니다.

2. **확장**

- 특정 서비스에 대한 `확장성(scale-out)이 유리`합니다.
- **`클라우드 기반 서비스` 사용에 적합**합니다.

3. **장애**

- 일부 장애가 전체 서비스로 확장될 가능성이 적습니다.
- 부분적으로 발생하는 장애에 대한 격리가 수월합니다.

4. **그 외**

- `새로운 기술을 적용하기 유연`합니다.
(전체 서비스가 아닌 특정 서비스만 별도의 기술 또는 언어로 구현 가능)
    
- 각각의 서비스에 대한 구조 파악 및 분석이 모놀리식 구조에 비해 쉽다.

## **MSA 단점**

1. **설계의 어려움**
- `MSA는 모놀리식에 비해 상대적으로 많이 복잡`하다. 서비스가 모두 분산되어 있기 때문에 개발자는 내부 시스템의 통신을 어떻게 가져가야 할지 정해야 한다.
- 통신의 장애와 서버의 부하 등이 있을 경우 어떻게 `transaction을 유지할지 결정하고 구현`해야 함


2. **성능**
- 서비스 간 호출 시 API를 사용하므로, 통신 비용이나 `Latency`에 대해 이슈가 존재한다.


3. **테스트/데이터 트랜잭션**
- 모놀리식에서는 단일 트랜잭션을 유지하면 됐지만 MSA에서는 비즈니스에 대한 DB를 가지고 있는 서비스도 각기 다르고, 서비스의 연결을 위해서는 통신이 포함되기 때문에 트랜잭션을 유지하는게 어렵다.
- `통합 테스트가 어렵다`. 개발 환경과 실제 운영환경을 동일하게 가져가는 것이 쉽지 않다.


4. **데이터 관리**
- 데이터가 여러 서비스에 분산되어 있어 조회하기 어렵다.
- `데이터를 관리하기 어렵다`.

---

## 참고 문헌

[마이크로서비스(Microservice) 개념, 장점, 아키텍처, 적용 사례](https://www.redhat.com/ko/topics/microservices)

[마이크로서비스란 무엇입니까? | AWS](https://aws.amazon.com/ko/microservices/)