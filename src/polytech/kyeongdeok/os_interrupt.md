---
layout: home
---

# 📘 운영체제 동작, Interrupt

### 운영체제의 동작 개요
<aside>
💡 운영체제(OS)는 HW 또는 SW로부터 발생된 인터럽트에 의해 구동된다.
 - Interrupt driven

cf) SW에 의해 발생된 인터럽트 : `exception` or `trap`

**-** 인터럽트는 하나의 프로세스가 무한루프, 다른 프로세스를 변경, 운영체제 영역을 접근 등을 막아주는 역할을 한다.

**-** 운영체제는 Dual-mode를 제공. 운영체제 자체와 시스템 요소를 보호할 수 있다.
   *** 사용자 모드, `Kernel 모드`
   * `Mode bit` : 현재 사용자 모드인지 커널 모드인지 알려줌**

</aside>

---

### **인터럽트란? (Interrupt)**

<aside>
💡 인터럽트(Interrupt)란, **컴퓨터에서 프로세서가 실행 중인 작업을 중단하고, 다른 장치나 소프트웨어의 요청에 응답하여 해당 작업을 처리하는 메커니즘**입니다.

인터럽트는 하드웨어 인터럽트와 소프트웨어 인터럽트로 나눌 수 있습니다. 하드웨어 인터럽트는 입출력 장치 등의 **하드웨어에서 발생하는 인터럽트**이며, **소프트웨어 인터럽트는 프로그램에서 명시적으로 발생시키는 인터럽트**입니다.

인터럽트는 컴퓨터 시스템의 성능을 향상시키고, 입출력 장치와 같은 외부 장치와의 상호작용을 가능하게 해주는 중요한 메커니즘이며, 운영체제나 드라이버 등에서 많이 사용됩니다.

</aside>

- **인터럽트 발생 시 운영체제가 제어권을 갖게 된다.**
- **운영체제는 Interrupt vector에 저장되어 있는 ISR(Interrupt Service Routine) 시작 주소로 점프한다.**
- **Interrupt architecture는 점프하기 전에 현재 CPU가 실행 중이었던 프로그램의 상태를 저장하고 ISR처리 후 되돌아올 시작 주소를 저장한다.**
- **운영체제는 인터럽트로 구동되는 것이라고 볼 수 있다.**

**cf) trap**

<aside>
💡 소프트웨어에 의해 발생되는 인터럽트
ctrl+alt-del만약 IO 입출력, 키보드 입력이 끝났을 때, 입력이 완료되었다는 인터럽트가 발생한다.
-> 운영체제 제어권 얻음
-> 인터럽트 처리**사용자 프로그램이 실행되다가 시스템 호출(일종의 SW 인터럽트) 또는 인터럽트가 발생하여야 OS가 제어권을 가진다.
-> 인터럽트가 발생하지 않으면, OS가 제어권을 가질 수 없다.**

</aside>

### 운영체제의 **인터럽트 처리 (Interrupt Handling)**

- 운영체제는 현재 프로그램을 실행 중인 CPU의 상태를 저장해야 한다.
    - 레지스터 및 프로그램 카운터 값 저장
- 어떠한 장치가 인터럽트를 걸었는지 조사해야 한다.
    1. `Polling (일일이 조사)`
    2. `Vectored interrupt system` (인터럽트 유형에 따라 적절한 코드 실행): 어느 장치가 인터럽트를 걸었는지 쉽게 알 수 있다.
- 인터럽트 유형에 따라 적절한 처리를 하는 코드를 실행 (ISR)
- 인터럽트 처리 후, 원래 프로세스 실행 재개

### **인터럽트 타임라인 (Interrupt Timeline)**

![https://blog.kakaocdn.net/dn/lM8x9/btrLyXRhcf0/S1NFVk28f2NWv6akpxdlH1/img.png](https://blog.kakaocdn.net/dn/lM8x9/btrLyXRhcf0/S1NFVk28f2NWv6akpxdlH1/img.png)

CPU는 사용자 프로그램 실행 상태와 I/O device 인터럽트를 처리하는 상태의 2가지 상태를 가진다.

1. IO장치 전송이 끝나면 인터럽트 발생
2. CPU는 상태를 저장하고 인터럽트 해당 장치를 확인
3. 인터럽트 처리 후 원래 프로세서로 복귀한다.

---

# 📘 참고 문헌

Abraham Silberschatz - Operating System Concepts 10th