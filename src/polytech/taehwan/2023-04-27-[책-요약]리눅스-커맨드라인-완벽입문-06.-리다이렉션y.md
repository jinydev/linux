---
layout: post
title: "[책 요약]리눅스 커맨드라인 완벽입문_06. 리다이렉션"
date: 2023-04-27 18:10:32 +0900
comment: true
---


## 1. 표준 입/출력과 표준오류와 리다이렉션

## 표준 입/출력과 표준 오류

- 프로그램에는 입력과 출력이 있다.
- 그 중 출력은 2가지로 표준 출력과 표준 오류가 있다.
- 따라서 표준입력, 표준출력, 표준오류가 있다.
- 리눅스에서는 이 3가지를 파일 디스크립터로 나타낼 수 있다. 이것은 내부적으로
    - 0에 표준입력
    - 1에 표준출력
    - 2에 표준오류
- 의 파일 디스크립터로 지정되어 있다.

## 표준 출력 재지정(=리다이렉션)

- I/O리다이렉션은 출력 방향을 재정의 할 수 있다.
- 보통 화면에 출력하는 것으로 알 것이다. 근데 그것을 대신 다른 파일에 출력되도록 지정할 수 있다.
- 파일명 앞에 > 리다이렉션 연산자를 사용.
- 사용 이유는 출력결과를 화면에 말고 파일에 저장하는 것이 유용한 상황에 있기 때문.
- 예를 들어, `ls -l /usr/bin > ls-output.txt` 이것은 /usr/bin에 있는 파일,디렉터리 목록들을 화면에 출력하는데 이러지말고,  ‘ls-output.txt’라는 파일에 써주겠다는 것이다.
- `>` : 오른쪽 파일에 현재 출력결과를 덮어쓴다.
- `>>` : 오른쪽 파일에 현재 출력결과를 추가한다.

## 표준 오류 재지정

- `ls -l /bin/usr  2>  ls-error.txt`
    - 위와 같이 2>는 파일 디스크립터에서 표준오류 메시지를 오른쪽 ls-error.txt로 보내는 것이다.
    

## 표준 출력과 표준 오류를 한 파일로 재지정

- `ls -l /bin/usr  >  ls-output.txt  2>&1`
    - 먼저 /bin/usr의 ls 결과를 → ls-output.txt
- 최신 bash버전에서(16년도 기준?)
    - `ls - l /bin/usr  &>  ls-output.txt` 로 쓰면 된다.

## 원치 않는 출력 제거

- 출력이 나오는데 그 출력값을 보이기 싫거나, 여튼 출력이 되기 싫다면 리눅스에 있는 /dev/null이라는 블랙홀같은 공간에 보내버리면 된다.
- `ls -l /bin/usr  2>  /dev/null`

## 표준 입력 재지정

- `cat` : 하나 이상의 파일을 읽어드려 → 표준 출력으로 그 내용을 복사한다.
- `cat [files …]`
- `cat ls-output.txt`
    - ls-output.txt파일을 읽어드려 → 표준 출력으로 그 내용을 복사하고 화면에 출력한다.
- `cat movie.mpeg.0*  > movie.mpeg`
    - 만약 movie.mpeg.01 ~ movie.mpeg.09가 있어서 저 파일 하나하나의 내용을 다 복사하여 movie.mpeg라는 파일 하나에 표준출력으로 넣어준다. (압축과 비슷한 느낌)

# 2. 파이프라인

- `ls  /bin  /usr/bin  |  sort  |  less`
    - 여기서 `|` 가 파이프라인
    

# 3. 필터

- `ls  /bin  /usr/bin  |  sort  |  less`
    - 여기서 `|` 가 파이프라인, 뒤에 `sort`, `less` 등 명령어가 필터 명령어
- 추가로 uniq, wc, grep, head, tail, tee 등 많은 필터 명령어들이 있다.